<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guía de uso · TestMania</title>
  <meta name="description"
    content="Guía de uso de TestMania: crear tests con IA, exportar a PDF/JSON, acciones de la tabla, cronómetro, progreso, privacidad y preguntas frecuentes." />
  <link rel="stylesheet" href="./ayuda.css" />
</head>

<body>
  <header>
    <a href="./" aria-label="Volver a TestMania">← Volver</a>
    <h1>Guía de uso de TestMania</h1>
  </header>

  <main class="help-layout">
    <!-- Navegación/Índice -->
    <aside class="help-aside" aria-label="Índice de contenidos">
      <nav>
        <h2>Contenido</h2>
        <ol>
          <li><a href="#que-es">¿Qué es TestMania?</a></li>
          <li><a href="#crear-con-ia">Crear un test con IA</a></li>
          <li><a href="#formato-json">Formato del JSON</a></li>
          <li><a href="#tabla-y-acciones">Tabla de tests y acciones</a></li>
          <li><a href="#exportar-pdf">Exportar a PDF</a></li>
          <li><a href="#interfaz-test">Interfaz durante un test</a></li>
          <li><a href="#donde-se-guardan">¿Dónde se guardan mis tests?</a></li>
          <li><a href="#preguntas-frecuentes">Preguntas frecuentes</a></li>
          <li><a href="#privacidad">Privacidad</a></li>
          <li><a href="#problemas-comunes">Problemas comunes</a></li>
        </ol>
      </nav>
    </aside>

    <!-- Contenido principal -->
    <article class="help-article">
      <section id="que-es" aria-labelledby="h-que-es">
        <h2 id="h-que-es">¿Qué es TestMania?</h2>
        <p>TestMania te permite <strong>crear y resolver tests</strong> sobre cualquier tema de forma muy sencilla.
          Puedes generar preguntas con tu IA favorita y tener tus test organizados en una tabla con progreso, tiempo
          y acciones rápidas.</p>
      </section>

      <section id="crear-con-ia" aria-labelledby="h-crear-ia">
        <h2 id="h-crear-ia">Crear un test con IA</h2>
        <ol>
          <li>En la sección <strong>Crea tu test</strong>, escribe la <u>temática</u> y el número de preguntas.</li>
          <li>Selecciona una <u>plataforma de IA</u> en el desplegable: ChatGPT, DeepSeek, Copilot, Gemini, Grok,
            Perplexity, Mistral o Claude.</li>
          <li>Pulsa <strong>Abrir IA</strong>. Se abrirá en una nueva pestaña y el <em>prompt</em> se <strong>copiará
              automáticamente</strong> al portapapeles.</li>
          <li>Pega (<kbd>Ctrl</kbd>+<kbd>V</kbd>) ese texto en la IA y espera la respuesta.</li>
          <li>Copia todo el <strong>código JSON</strong> generado y pégalo en el cuadro <em>«Código del test
              (JSON)»</em>.</li>
          <li>Pulsa <strong>Crear Test</strong>. Si el título ya existe, se renombrará automáticamente (ej.: <em>«Mi
              test (2)»</em>).</li>
        </ol>
        <aside role="note">
          Consejo: la temática puede ser general o muy específica (ej.: capitales de África, discos de los Beatles,
          reglamento de fútbol…).
        </aside>
      </section>


      </section>

      <section id="formato-json" aria-labelledby="h-formato-json">
        <h2 id="h-formato-json">Formato del JSON</h2>
        <p>Cada test se define con un objeto JSON que debe cumplir estas reglas:</p>

        <ul>
          <li><code>titulo</code>: nombre del test (texto corto y representativo).</li>
          <li><code>preguntas</code>: lista de objetos, uno por cada pregunta.</li>
          <li>Cada pregunta incluye:
            <ul>
              <li><code>texto</code>: enunciado de la pregunta.</li>
              <li><code>opciones</code>: <strong>exactamente 4 respuestas</strong> posibles.</li>
              <li><code>correcta</code>: número de la opción correcta (1, 2, 3 o 4).</li>
            </ul>
          </li>
        </ul>

        <details open>
          <summary>Ejemplo válido</summary>
          <pre><code>{
  "titulo": "Cultura general",
  "preguntas": [
    {
      "texto": "¿Capital de Francia?",
      "opciones": ["Madrid","Roma","Lisboa","París"],
      "correcta": 4
    },
    {
      "texto": "¿Autor de Don Quijote?",
      "opciones": ["Cervantes","Lope","Quevedo","Góngora"],
      "correcta": 1
    }
  ]
}</code></pre>
        </details>

        <details>
          <summary>Ejemplo con errores frecuentes</summary>
          <pre><code>{
  "titulo": "Test mal formado",
  "preguntas": [
    {
      "texto": "¿Capital de Italia?",
      "opciones": ["Roma","Milán","Nápoles"],  // ❌ Solo 3 opciones
      "correcta": 0                           // ❌ Debe empezar en 1, no en 0
    }
  ]
}</code></pre>
        </details>

        <aside role="note">
          ✔️ Recomendaciones:
          <ul>
            <li>Siempre usa 4 opciones.</li>
            <li>No pongas texto adicional fuera del JSON.</li>
            <li>El número de la opción correcta empieza en <strong>1</strong> (no en 0).</li>
          </ul>
        </aside>
      </section>


      <section id="tabla-y-acciones" aria-labelledby="h-tabla">
        <h2 id="h-tabla">Tabla de tests y acciones</h2>
        <p>En la tabla verás cada test con aciertos, progreso, tiempo invertido y un <strong>menú de acciones</strong>
          por fila:</p>
        <ul>
          <li><strong>Exportar Test a PDF</strong> — genera un PDF listo para imprimir.</li>
          <li><strong>Descargar JSON del Test</strong> — guarda el test como archivo <code>.json</code>.</li>
          <li><strong>Copiar JSON del Test</strong> — lo copia al portapapeles.</li>
          <li><strong>Reiniciar Test</strong> — borra respuestas y tiempo de ese test.</li>
          <li><strong>Desordenar Test</strong> — mezcla preguntas y opciones.</li>
          <li><strong>Restaurar orden del Test</strong> — devuelve el orden original.</li>
          <li><strong>Eliminar Test</strong> — disponible solo para tests creados por ti.</li>
        </ul>
      </section>

      <section id="exportar-pdf" aria-labelledby="h-exportar-pdf">
        <h2 id="h-exportar-pdf">Exportar a PDF</h2>
        <p>La exportación crea un documento con:</p>
        <ul>
          <li><strong>Título</strong> del test.</li>
          <li>Cada <strong>pregunta</strong> y sus 4 opciones (con saltos de línea automáticos).</li>
          <li><strong>Respuestas correctas</strong> al final (número, letra y texto).</li>
        </ul>
        <p>El archivo se descarga con el nombre del test y extensión <code>.pdf</code>.</p>
      </section>

      <section id="interfaz-test" aria-labelledby="h-interfaz">
        <h2 id="h-interfaz">Interfaz durante un test</h2>
        <ul>
          <li><strong>Cronómetro ⏳</strong> — mide el tiempo invertido.</li>
          <li><strong>Aciertos 🎯</strong> — contador de respuestas correctas sobre el total.</li>
          <li><strong>Barra de progreso</strong> — muestra porcentaje de aciertos, fallos y pendientes.</li>
          <li><strong>Menú de acciones</strong> y botón <em>Volver</em> en la cabecera.</li>
          <li><strong>Mensajes inmediatos</strong> tras responder: ✅ correcta / ❌ incorrecta.</li>
        </ul>
      </section>

      <section id="donde-se-guardan" aria-labelledby="h-donde-se-guardan">
        <h2 id="h-donde-se-guardan">¿Dónde se guardan mis tests?</h2>
        <p>Tus tests se guardan <strong>únicamente en tu navegador</strong> (localStorage).</p>
        <ul>
          <li>Si borras los datos del navegador, usas otro navegador o cambias de dispositivo, no aparecerán
            automáticamente.</li>
          <li>Haz copia exportando a <code>.json</code> para recuperarlos después.</li>
        </ul>
      </section>

      <section id="preguntas-frecuentes" aria-labelledby="h-faq">
        <h2 id="h-faq">Preguntas frecuentes</h2>
        <details>
          <summary>¿Puedo crear un test sin JSON?</summary>
          <p>De momento se crea con JSON. Se estudia añadir asistentes visuales.</p>
        </details>
        <details>
          <summary>¿Qué pasa si ya existe un test con el mismo título?</summary>
          <p>La app lo renombra automáticamente (ej.: <em>«Mi test (2)»</em>).</p>
        </details>
        <details>
          <summary>¿Cómo importo un test exportado?</summary>
          <p>Pega el contenido del archivo <code>.json</code> en el cuadro de creación y pulsa <strong>Crear
              Test</strong>.</p>
        </details>
        <details>
          <summary>¿Se comparten mis tests?</summary>
          <p>No. Se quedan en tu navegador salvo que los exportes y compartas.</p>
        </details>
      </section>

      <section id="privacidad" aria-labelledby="h-privacidad">
        <h2 id="h-privacidad">Privacidad</h2>
        <p>TestMania no envía tus tests a ningún servidor. Todo se mantiene local salvo que decidas exportarlo.</p>
      </section>

      <section id="problemas-comunes" aria-labelledby="h-problemas">
        <h2 id="h-problemas">Problemas comunes</h2>
        <details>
          <summary>«Formato de JSON no válido»</summary>
          <p>Revisa que el JSON tenga 4 opciones por pregunta, números correctos en <code>correcta</code> y estructura
            válida.</p>
        </details>
        <details>
          <summary>No aparecen mis tests en otro dispositivo</summary>
          <p>Recuerda: los tests solo se guardan en este navegador. Exporta a <code>.json</code> para trasladarlos.</p>
        </details>
      </section>
    </article>
  </main>

  <footer>
    <p><a href="./">Volver a TestMania</a> · © <span id="year">2025</span></p>
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>
  </footer>
</body>

</html>